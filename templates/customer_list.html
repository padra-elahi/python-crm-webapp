{% extends "base.html" %}
{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-800">๐  ูุณุช ูุดุชุฑุงู</h1>
    <a href="/customer/new" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition">โ  ูุดุชุฑ ุฌุฏุฏ</a>
</div>

<form method="get" action="/customers" class="mb-6 bg-white p-4 rounded shadow-sm flex gap-4 flex-wrap">
    <input type="text" name="search" value="{{ filters.search or '' }}" placeholder="ุฌุณุชุฌู ุจุง ูุงู..." class="p-2 border rounded w-full md:w-auto">
    <select name="product_type" class="p-2 border rounded w-full md:w-auto">
        <option value="">ููู ูุญุตููุงุช</option>
        {% for option in PRODUCT_TYPES %}
        <option value="{{ option }}" {% if filters.get('product_type') == option %}selected{% endif %}>{{ option }}</option>
        {% endfor %}
    </select>
    <select name="registration_status" class="p-2 border rounded w-full md:w-auto">
        <option value="">ููู ูุถุนุช ูุง</option>
        {% for s in REGISTRATION_STATUSES %}
        <option value="{{ s }}" {% if filters.get('registration_status') == s %}selected{% endif %}>{{ s }}</option>
        {% endfor %}
    </select>
    <button type="ุฌุณุชุฌู" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">ููุชุฑ</button>
    <a href="/customers" class="text-sm text-gray-600 hover:underline">ุญุฐู ููุชุฑูุง</a>
</form>

<div class="space-y-4">
    {% for customer in customers %}
    <div class="bg-white p-5 rounded shadow flex justify-between items-center">
        <div>
            <h3 class="text-xl font-bold text-gray-900">{{ customer.name }}</h3>
            <p class="text-sm text-gray-600">ููุน ูุญุตูู: {{ customer.product_type }} | ูุถุนุช: {{ customer.registration_status }}</p>
        </div>
        <a href="/customer/{{ customer.id }}" class="text-blue-600 font-bold hover:underline">ุฌุฒุฆุงุช / ุงุตูุงุญ โ</a>
    </div>
    {% else %}
    <p class="text-gray-600">ูุดุชุฑ ูพุฏุง ูุดุฏ</p>
    {% endfor %}
</div>
{% endblock %}